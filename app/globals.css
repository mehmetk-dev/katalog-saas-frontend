@import "tailwindcss";
@plugin "@tailwindcss/typography";
/* @import "tw-animate-css"; */

@custom-variant dark (&:is(.dark *));

/* <CHANGE> Replaced oklch with hsl/hex for html2canvas compatibility */
:root {
  /* Premium Indigo/Violet Theme - HSL Values */
  --background: hsl(270 20% 99%);
  --foreground: hsl(270 50% 10%);

  --card: hsl(0 0% 100%);
  --card-foreground: hsl(270 50% 10%);
  --popover: hsl(0 0% 100%);
  --popover-foreground: hsl(270 50% 10%);

  --primary: hsl(262 83% 58%);
  /* #7c3aed */
  --primary-foreground: hsl(0 0% 100%);

  --secondary: hsl(270 20% 96%);
  --secondary-foreground: hsl(270 50% 20%);

  --muted: hsl(270 20% 96%);
  --muted-foreground: hsl(270 10% 45%);

  --accent: hsl(270 20% 94%);
  --accent-foreground: hsl(270 50% 20%);

  --destructive: hsl(0 84% 60%);
  --destructive-foreground: hsl(0 0% 98%);

  --border: hsl(270 20% 92%);
  --input: hsl(270 20% 92%);
  --ring: hsl(262 83% 58%);

  --chart-1: hsl(262 83% 58%);
  --chart-2: hsl(290 60% 55%);
  --chart-3: hsl(250 60% 60%);
  --chart-4: hsl(310 60% 70%);
  --chart-5: hsl(230 60% 50%);

  --radius: 0.75rem;

  --sidebar: hsl(270 20% 98%);
  --sidebar-foreground: hsl(270 50% 10%);
  --sidebar-primary: hsl(262 83% 58%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(270 20% 95%);
  --sidebar-accent-foreground: hsl(270 50% 10%);
  --sidebar-border: hsl(270 20% 90%);
  --sidebar-ring: hsl(262 83% 58%);
}

.dark {
  --background: hsl(230 40% 4%);
  --foreground: hsl(230 20% 98%);

  --card: hsl(230 40% 6%);
  --card-foreground: hsl(230 20% 98%);
  --popover: hsl(230 40% 6%);
  --popover-foreground: hsl(230 20% 98%);

  --primary: hsl(250 85% 65%);
  --primary-foreground: hsl(0 0% 100%);

  --secondary: hsl(230 30% 12%);
  --secondary-foreground: hsl(230 20% 98%);

  --muted: hsl(230 25% 10%);
  --muted-foreground: hsl(230 15% 65%);

  --accent: hsl(250 40% 15%);
  --accent-foreground: hsl(230 20% 98%);

  --destructive: hsl(0 62% 30%);
  --destructive-foreground: hsl(0 0% 98%);

  --border: hsl(230 30% 13%);
  --input: hsl(230 30% 13%);
  --ring: hsl(250 85% 65%);

  --chart-1: hsl(262 83% 65%);
  --chart-2: hsl(290 60% 65%);
  --chart-3: hsl(250 60% 70%);
  --chart-4: hsl(310 60% 75%);
  --chart-5: hsl(230 60% 60%);

  --sidebar: hsl(230 45% 3%);
  --sidebar-foreground: hsl(230 20% 96%);
  --sidebar-primary: hsl(250 85% 65%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(230 30% 10%);
  --sidebar-accent-foreground: hsl(230 20% 98%);
  --sidebar-border: hsl(230 30% 10%);
  --sidebar-ring: hsl(250 85% 65%);
}

.catalog-light {
  --background: #ffffff !important;
  --foreground: #020617 !important;
  --card: #ffffff !important;
  --card-foreground: #020617 !important;
  --popover: #ffffff !important;
  --popover-foreground: #020617 !important;
  --primary: #4f46e5 !important;
  --primary-foreground: #ffffff !important;
  --secondary: #f8fafc !important;
  --secondary-foreground: #0f172a !important;
  --muted: #f8fafc !important;
  --muted-foreground: #64748b !important;
  --accent: #f1f5f9 !important;
  --accent-foreground: #0f172a !important;
  --border: #e2e8f0 !important;
  --input: #e2e8f0 !important;
  --ring: #4f46e5 !important;

  background-color: var(--background) !important;
  color: var(--foreground) !important;
}

/* KESİN ÇÖZÜM: .catalog-light içindeki her şeyi zorla ışık modunda tut */
.catalog-light,
.catalog-light * {
  border-color: var(--border);
}

/* Sadece katalog içindeki metinleri hedefle, tüm uygulamayı (sidebar vs) bozma */
.catalog-light h1,
.catalog-light h2,
.catalog-light h3,
.catalog-light h4,
.catalog-light h5,
.catalog-light h6,
.catalog-light p,
.catalog-light span,
.catalog-light div,
.catalog-light section,
.catalog-light article {
  color: inherit;
}

/* Tailwind renk sınıflarının dark modda sapmasını engelle */
.catalog-light .text-slate-950,
.catalog-light .text-gray-950,
.catalog-light .text-black {
  color: #020617 !important;
}

.catalog-light .text-slate-900,
.catalog-light .text-gray-900 {
  color: #0f172a !important;
}

.catalog-light .text-slate-800,
.catalog-light .text-gray-800 {
  color: #1e293b !important;
}

.catalog-light .text-slate-700,
.catalog-light .text-gray-700 {
  color: #334155 !important;
}

.catalog-light .text-slate-600,
.catalog-light .text-gray-600 {
  color: #475569 !important;
}

.catalog-light .text-slate-500,
.catalog-light .text-gray-500 {
  color: #64748b !important;
}

.catalog-light .text-slate-400,
.catalog-light .text-gray-400 {
  color: #94a3b8 !important;
}

/* Arka planlar */
.catalog-light .bg-white {
  background-color: #ffffff !important;
}

.catalog-light .bg-slate-50,
.catalog-light .bg-gray-50 {
  background-color: #f8fafc !important;
}

.catalog-light .bg-slate-100,
.catalog-light .bg-gray-100 {
  background-color: #f1f5f9 !important;
}

.catalog-light .bg-slate-200,
.catalog-light .bg-gray-200 {
  background-color: #e2e8f0 !important;
}

/* Force white text where explicitly requested in catalog-light (like on primary color surfaces) */
.catalog-light .text-white {
  color: #ffffff !important;
}

@theme {
  --font-sans: "Inter", "Inter Fallback", system-ui, sans-serif;
  --font-montserrat: "Montserrat", "Montserrat Fallback", sans-serif;
  --font-mono: "Geist Mono", "Geist Mono Fallback", monospace;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Override Gray palette to use Hex/RGB to avoid html2canvas oklch/lab errors */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;

  /* Override Yellow palette (used in Bold template) */
  --color-yellow-300: #fde047;
  --color-yellow-400: #facc15;
  --color-yellow-900: #713f12;

  /* Override Amber (Used in Premium badge) */
  --color-amber-200: #fde68a;

  /* Reset generic colors to basic safe legacy keywords or hex */
  --color-white: #ffffff;
  --color-black: #000000;
  --color-transparent: transparent;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    overflow-x: hidden;
    -webkit-text-size-adjust: 100%;
  }

  body {
    @apply bg-background text-foreground;
    overflow-x: hidden;
    min-height: 100vh;
    min-height: 100dvh;
    /* Dynamic viewport height for mobile */
  }

  /* Mobil dokunmatik hedefler için minimum boyut */
  @media (max-width: 640px) {

    button,
    [role="button"],
    a {
      min-height: 44px;
      min-width: 44px;
    }

    /* Küçük butonlar için istisna */
    button.h-8,
    button.h-7,
    button.h-6,
    [class*="size-icon"] {
      min-height: auto;
      min-width: auto;
    }
  }

  /* Metin seçimi optimizasyonu */
  @media (hover: none) and (pointer: coarse) {

    input,
    textarea {
      font-size: 16px !important;
      /* iOS zoom önleme */
    }
  }
}

/* Yatay scroll engelleme yardımcı sınıfı */
.no-scroll-x {
  overflow-x: hidden !important;
}

/* Mobil için safe area padding */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* ========================================
   React PageFlip Styles
   ======================================== */

/* Flipbook container */
.stf__wrapper {
  width: 100% !important;
  height: 100% !important;
}

.stf__parent {
  width: 100% !important;
  height: 100% !important;
}

.stf__block {
  width: 100% !important;
  height: 100% !important;
}

/* Page styles */
.page {
  width: 100%;
  height: 100%;
  background-color: white;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  position: relative;
}

.page-content {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Cover page styles */
.page-cover {
  background: linear-gradient(135deg, #1e1b4b 0%, #4c1d95 100%);
}

.page-cover .page-content {
  color: white;
}

/* Ensure all child content fits within page bounds */
.page-content>* {
  max-height: 100%;
  overflow: hidden;
}

/* Page flip animation shadow */
.stf__block.--active {
  z-index: 10;
}

/* Hard page effect */
[data-density="hard"] {
  background-color: #fafafa;
}

/* Soft page effect */
[data-density="soft"] {
  background-color: white;
}

/* Fix for flipbook sizing */
.flip-book-container {
  width: 100%;
  height: 100%;
  position: relative;
}

/* Ensure aspect ratio maintained */
.flipbook-wrapper {
  width: 100%;
  height: 0;
  padding-bottom: 141.4%;
  /* A4 aspect ratio */
  position: relative;
}

.flipbook-wrapper>div {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* ========================================
   Landing Page Animations
   ======================================== */

@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

.animation-delay-1000 {
  animation-delay: 1s;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

@keyframes blob {

  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }

  33% {
    transform: translate(30px, -30px) scale(1.1);
  }

  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animate-bounce-slow {
  animation: bounce 3s infinite;
}

@keyframes text-gradient {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

.animate-text-gradient {
  animation: text-gradient 3s ease infinite;
}

.bg-300\% {
  background-size: 300%;
}

/* Custom Scrollbar Utility */
.custom-scrollbar::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #e2e8f0;
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #cbd5e1;
}

.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #e2e8f0 transparent;
}

/* ═══════════════════════════════════════════════════════ */
/* Premium Sonner Toast — Tinted Stripe Design             */
/* ═══════════════════════════════════════════════════════ */

/* Base defaults */
.premium-toast {
  --toast-bg: hsl(0, 0%, 100%);
  --toast-text: hsl(240, 10%, 20%);
  --toast-border: hsl(0, 0%, 92%);
  --toast-stripe: hsl(262, 83%, 58%);
  --toast-shadow: 0 10px 40px -8px rgba(0,0,0,0.08), 0 4px 12px -2px rgba(0,0,0,0.04);
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
}
.premium-toast:hover {
  transform: translateY(-1px) !important;
}

/* ── Success ── */
.premium-toast-success {
  --toast-bg: linear-gradient(135deg, hsl(148, 60%, 97%), hsl(155, 50%, 95%)) !important;
  --toast-text: hsl(152, 50%, 18%) !important;
  --toast-border: hsl(152, 45%, 82%) !important;
  --toast-stripe: hsl(152, 69%, 36%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(152, 60%, 35%, 0.15), 0 4px 12px -2px hsla(152, 60%, 35%, 0.08) !important;
  background: linear-gradient(135deg, hsl(148, 60%, 97%), hsl(155, 50%, 95%)) !important;
}
.premium-toast-success [data-icon] svg {
  color: hsl(152, 69%, 36%) !important;
  filter: drop-shadow(0 0 6px hsla(152, 69%, 40%, 0.3));
}

/* ── Error ── */
.premium-toast-error {
  --toast-bg: linear-gradient(135deg, hsl(0, 65%, 97%), hsl(355, 55%, 95%)) !important;
  --toast-text: hsl(0, 55%, 22%) !important;
  --toast-border: hsl(0, 50%, 85%) !important;
  --toast-stripe: hsl(0, 72%, 50%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(0, 70%, 50%, 0.15), 0 4px 12px -2px hsla(0, 70%, 50%, 0.08) !important;
  background: linear-gradient(135deg, hsl(0, 65%, 97%), hsl(355, 55%, 95%)) !important;
}
.premium-toast-error [data-icon] svg {
  color: hsl(0, 72%, 50%) !important;
  filter: drop-shadow(0 0 6px hsla(0, 72%, 50%, 0.3));
}

/* ── Info ── */
.premium-toast-info {
  --toast-bg: linear-gradient(135deg, hsl(215, 70%, 97%), hsl(222, 60%, 95%)) !important;
  --toast-text: hsl(217, 55%, 20%) !important;
  --toast-border: hsl(217, 50%, 85%) !important;
  --toast-stripe: hsl(217, 91%, 58%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(217, 91%, 58%, 0.15), 0 4px 12px -2px hsla(217, 91%, 58%, 0.08) !important;
  background: linear-gradient(135deg, hsl(215, 70%, 97%), hsl(222, 60%, 95%)) !important;
}
.premium-toast-info [data-icon] svg {
  color: hsl(217, 91%, 58%) !important;
  filter: drop-shadow(0 0 6px hsla(217, 91%, 58%, 0.3));
}

/* ── Warning ── */
.premium-toast-warning {
  --toast-bg: linear-gradient(135deg, hsl(40, 90%, 97%), hsl(35, 80%, 95%)) !important;
  --toast-text: hsl(32, 65%, 18%) !important;
  --toast-border: hsl(38, 60%, 82%) !important;
  --toast-stripe: hsl(38, 92%, 48%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(38, 92%, 48%, 0.15), 0 4px 12px -2px hsla(38, 92%, 48%, 0.08) !important;
  background: linear-gradient(135deg, hsl(40, 90%, 97%), hsl(35, 80%, 95%)) !important;
}
.premium-toast-warning [data-icon] svg {
  color: hsl(38, 92%, 48%) !important;
  filter: drop-shadow(0 0 6px hsla(38, 92%, 48%, 0.3));
}

/* ── Loading ── */
.premium-toast-loading {
  --toast-bg: linear-gradient(135deg, hsl(262, 40%, 97%), hsl(270, 30%, 95%)) !important;
  --toast-text: hsl(262, 35%, 22%) !important;
  --toast-border: hsl(262, 30%, 88%) !important;
  --toast-stripe: hsl(262, 83%, 58%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(262, 83%, 58%, 0.15), 0 4px 12px -2px hsla(262, 83%, 58%, 0.08) !important;
  background: linear-gradient(135deg, hsl(262, 40%, 97%), hsl(270, 30%, 95%)) !important;
}
.premium-toast-loading [data-icon] svg {
  color: hsl(262, 83%, 58%) !important;
  filter: drop-shadow(0 0 6px hsla(262, 83%, 58%, 0.3));
}

/* Close button */
.premium-toast-close {
  border: none !important;
  background: rgba(0, 0, 0, 0.04) !important;
  border-radius: 50% !important;
  color: hsl(0, 0%, 50%) !important;
  transition: opacity 0.15s, background 0.15s !important;
  right: 4px !important;
  left: unset !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}
.premium-toast:hover .premium-toast-close {
  opacity: 1 !important;
}
.premium-toast-close:hover {
  background: rgba(0, 0, 0, 0.1) !important;
}

/* Description */
.premium-toast [data-description] {
  color: hsl(0, 0%, 48%) !important;
  font-weight: 400 !important;
  font-size: 0.8rem !important;
}

/* ═══ Dark Mode ═══ */
.dark .premium-toast {
  --toast-bg: hsl(230, 25%, 11%);
  --toast-text: hsl(0, 0%, 92%);
  --toast-border: hsl(230, 20%, 18%);
  --toast-shadow: 0 10px 40px -8px rgba(0,0,0,0.35), 0 4px 12px -2px rgba(0,0,0,0.2);
}
.dark .premium-toast [data-description] {
  color: hsl(0, 0%, 58%) !important;
}
.dark .premium-toast-close {
  background: rgba(255, 255, 255, 0.06) !important;
  color: hsl(0, 0%, 65%) !important;
}
.dark .premium-toast-close:hover {
  background: rgba(255, 255, 255, 0.12) !important;
}

.dark .premium-toast-success {
  --toast-bg: linear-gradient(135deg, hsl(152, 30%, 10%), hsl(155, 25%, 12%)) !important;
  --toast-text: hsl(152, 35%, 80%) !important;
  --toast-border: hsl(152, 25%, 20%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(152, 60%, 30%, 0.2), 0 4px 12px -2px rgba(0,0,0,0.2) !important;
  background: linear-gradient(135deg, hsl(152, 30%, 10%), hsl(155, 25%, 12%)) !important;
}
.dark .premium-toast-error {
  --toast-bg: linear-gradient(135deg, hsl(0, 30%, 11%), hsl(355, 25%, 13%)) !important;
  --toast-text: hsl(0, 40%, 80%) !important;
  --toast-border: hsl(0, 25%, 22%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(0, 60%, 40%, 0.2), 0 4px 12px -2px rgba(0,0,0,0.2) !important;
  background: linear-gradient(135deg, hsl(0, 30%, 11%), hsl(355, 25%, 13%)) !important;
}
.dark .premium-toast-info {
  --toast-bg: linear-gradient(135deg, hsl(217, 30%, 11%), hsl(222, 25%, 13%)) !important;
  --toast-text: hsl(217, 40%, 80%) !important;
  --toast-border: hsl(217, 25%, 22%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(217, 60%, 45%, 0.2), 0 4px 12px -2px rgba(0,0,0,0.2) !important;
  background: linear-gradient(135deg, hsl(217, 30%, 11%), hsl(222, 25%, 13%)) !important;
}
.dark .premium-toast-warning {
  --toast-bg: linear-gradient(135deg, hsl(38, 30%, 10%), hsl(35, 25%, 12%)) !important;
  --toast-text: hsl(38, 50%, 80%) !important;
  --toast-border: hsl(38, 25%, 20%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(38, 70%, 40%, 0.2), 0 4px 12px -2px rgba(0,0,0,0.2) !important;
  background: linear-gradient(135deg, hsl(38, 30%, 10%), hsl(35, 25%, 12%)) !important;
}
.dark .premium-toast-loading {
  --toast-bg: linear-gradient(135deg, hsl(262, 25%, 11%), hsl(270, 20%, 13%)) !important;
  --toast-text: hsl(262, 30%, 80%) !important;
  --toast-border: hsl(262, 20%, 22%) !important;
  --toast-shadow: 0 10px 40px -8px hsla(262, 60%, 45%, 0.2), 0 4px 12px -2px rgba(0,0,0,0.2) !important;
  background: linear-gradient(135deg, hsl(262, 25%, 11%), hsl(270, 20%, 13%)) !important;
}

/* Sonner Toast Mobile Offset for Builder */
@media (max-width: 640px) {
  body:has(.builder-page) [data-sonner-toaster] {
    --offset: calc(env(safe-area-inset-bottom, 0px) + 94px) !important;
  }
}

/* Validation Shake Animation */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

.animate-shake {
  animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
}

/* PERF(F15): Builder template section — moved from <style jsx global> */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.dragging-scroll {
  cursor: grabbing !important;
}

.dragging-scroll * {
  pointer-events: none !important;
}